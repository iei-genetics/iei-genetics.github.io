<!DOCTYPE html><html lang="en-US"><head><meta charset="UTF-8"><meta http-equiv="X-UA-Compatible" content="IE=Edge"><link rel="stylesheet" href="/assets/css/just-the-docs-default.css"><link rel="stylesheet" href="/assets/css/just-the-docs-head-nav.css" id="jtd-head-nav-stylesheet"><style id="jtd-nav-activation"> .site-nav > ul.nav-list:first-child > li:not(:nth-child(2)) > a, .site-nav > ul.nav-list:first-child > li > ul > li a { background-image: none; } .site-nav > ul.nav-list:not(:first-child) a, .site-nav li.external a { background-image: none; } .site-nav > ul.nav-list:first-child > li:nth-child(2) > a { font-weight: 600; text-decoration: none; }.site-nav > ul.nav-list:first-child > li:nth-child(2) > button svg { transform: rotate(-90deg); }.site-nav > ul.nav-list:first-child > li.nav-list-item:nth-child(2) > ul.nav-list { display: block; }</style><script src="/assets/js/vendor/lunr.min.js"></script> <script src="/assets/js/just-the-docs.js"></script><meta name="viewport" content="width=device-width, initial-scale=1"><link rel="icon" href="/favicon.ico" type="image/x-icon"><title>Data cleaning | IEI genetics</title><meta name="generator" content="Jekyll v4.4.1" /><meta property="og:title" content="Data cleaning" /><meta property="og:locale" content="en_US" /><meta name="description" content="Diagnosis of IEI and PID" /><meta property="og:description" content="Diagnosis of IEI and PID" /><link rel="canonical" href="http://localhost:4000/docs/data_cleaning/" /><meta property="og:url" content="http://localhost:4000/docs/data_cleaning/" /><meta property="og:site_name" content="IEI genetics" /><meta property="og:type" content="website" /><meta name="twitter:card" content="summary" /><meta property="twitter:title" content="Data cleaning" /> <script type="application/ld+json"> {"@context":"https://schema.org","@type":"WebPage","description":"Diagnosis of IEI and PID","headline":"Data cleaning","url":"http://localhost:4000/docs/data_cleaning/"}</script><body> <a class="skip-to-main" href="#main-content">Skip to main content</a> <svg xmlns="http://www.w3.org/2000/svg" class="d-none"> <symbol id="svg-link" viewBox="0 0 24 24"><title>Link</title><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-link"><path d="M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71"></path><path d="M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71"></path> </svg> </symbol> <symbol id="svg-menu" viewBox="0 0 24 24"><title>Menu</title><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-menu"><line x1="3" y1="12" x2="21" y2="12"></line><line x1="3" y1="6" x2="21" y2="6"></line><line x1="3" y1="18" x2="21" y2="18"></line> </svg> </symbol> <symbol id="svg-arrow-right" viewBox="0 0 24 24"><title>Expand</title><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-chevron-right"><polyline points="9 18 15 12 9 6"></polyline> </svg> </symbol> <symbol id="svg-external-link" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-external-link"><title id="svg-external-link-title">(external link)</title><path d="M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6"></path><polyline points="15 3 21 3 21 9"></polyline><line x1="10" y1="14" x2="21" y2="3"></line> </symbol> <symbol id="svg-doc" viewBox="0 0 24 24"><title>Document</title><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-file"><path d="M13 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V9z"></path><polyline points="13 2 13 9 20 9"></polyline> </svg> </symbol> <symbol id="svg-search" viewBox="0 0 24 24"><title>Search</title><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-search"> <circle cx="11" cy="11" r="8"></circle><line x1="21" y1="21" x2="16.65" y2="16.65"></line> </svg> </symbol> <symbol id="svg-copy" viewBox="0 0 16 16"><title>Copy</title><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-clipboard" viewBox="0 0 16 16"><path d="M4 1.5H3a2 2 0 0 0-2 2V14a2 2 0 0 0 2 2h10a2 2 0 0 0 2-2V3.5a2 2 0 0 0-2-2h-1v1h1a1 1 0 0 1 1 1V14a1 1 0 0 1-1 1H3a1 1 0 0 1-1-1V3.5a1 1 0 0 1 1-1h1v-1z"/><path d="M9.5 1a.5.5 0 0 1 .5.5v1a.5.5 0 0 1-.5.5h-3a.5.5 0 0 1-.5-.5v-1a.5.5 0 0 1 .5-.5h3zm-3-1A1.5 1.5 0 0 0 5 1.5v1A1.5 1.5 0 0 0 6.5 4h3A1.5 1.5 0 0 0 11 2.5v-1A1.5 1.5 0 0 0 9.5 0h-3z"/> </svg> </symbol> <symbol id="svg-copied" viewBox="0 0 16 16"><title>Copied</title><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-clipboard-check-fill" viewBox="0 0 16 16"><path d="M6.5 0A1.5 1.5 0 0 0 5 1.5v1A1.5 1.5 0 0 0 6.5 4h3A1.5 1.5 0 0 0 11 2.5v-1A1.5 1.5 0 0 0 9.5 0h-3Zm3 1a.5.5 0 0 1 .5.5v1a.5.5 0 0 1-.5.5h-3a.5.5 0 0 1-.5-.5v-1a.5.5 0 0 1 .5-.5h3Z"/><path d="M4 1.5H3a2 2 0 0 0-2 2V14a2 2 0 0 0 2 2h10a2 2 0 0 0 2-2V3.5a2 2 0 0 0-2-2h-1v1A2.5 2.5 0 0 1 9.5 5h-3A2.5 2.5 0 0 1 4 2.5v-1Zm6.854 7.354-3 3a.5.5 0 0 1-.708 0l-1.5-1.5a.5.5 0 0 1 .708-.708L7.5 10.793l2.646-2.647a.5.5 0 0 1 .708.708Z"/> </svg> </symbol> </svg><div class="side-bar"><div class="site-header" role="banner"> <a href="/" class="site-title lh-tight"> IEI genetics </a> <button id="menu-button" class="site-button btn-reset" aria-label="Toggle menu" aria-pressed="false"> <svg viewBox="0 0 24 24" class="icon" aria-hidden="true"><use xlink:href="#svg-menu"></use></svg> </button></div><nav aria-label="Main" id="site-nav" class="site-nav"><ul class="nav-list"><li class="nav-list-item"><a href="/" class="nav-list-link">Home</a><li class="nav-list-item"><a href="/docs/data_cleaning/" class="nav-list-link">Data cleaning</a><li class="nav-list-item"><a href="/docs/iuis_iei_datasource/" class="nav-list-link">IUIS IEI data source</a><li class="nav-list-item"><a href="/docs/knowledge_base/" class="nav-list-link">Knowledge Base</a><li class="nav-list-item"><a href="/docs/user_experience/" class="nav-list-link">User experience</a></ul><ul class="nav-list"><li class="nav-list-item external"> <a href="https://github.com/iei-genetics/iei-genetics.github.io" class="nav-list-link external" > IEI-genetics on GitHub <svg viewBox="0 0 24 24" aria-labelledby="svg-external-link-title"><use xlink:href="#svg-external-link"></use></svg> </a></ul></nav><footer class="site-footer"> This site runs from GitHub <a href="https://github.com/iei-genetics/">iei-genetics</a>.</footer></div><div class="main" id="top"><div id="main-header" class="main-header"><div class="search" role="search"><div class="search-input-wrap"> <input type="text" id="search-input" class="search-input" tabindex="0" placeholder="Search IEI genetics" aria-label="Search IEI genetics" autocomplete="off"> <label for="search-input" class="search-label"><svg viewBox="0 0 24 24" class="search-icon"><use xlink:href="#svg-search"></use></svg></label></div><div id="search-results" class="search-results"></div></div><nav aria-label="Auxiliary" class="aux-nav"><ul class="aux-nav-list"><li class="aux-nav-list-item"> <a href="https://github.com/iei-genetics/iei-genetics.github.io" class="site-button" > IEI-genetics on GitHub </a></ul></nav></div><div class="main-content-wrap"><div id="main-content" class="main-content"><main><h1 id="data-cleaning"> <a href="#data-cleaning" class="anchor-heading" aria-labelledby="data-cleaning"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Data cleaning</h1><p>Last update: 20250329</p><h2 id="iuis-iei"> <a href="#iuis-iei" class="anchor-heading" aria-labelledby="iuis-iei"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> IUIS IEI</h2><p>We transform the raw IUIS IEI data into a searchable, human- and machine-readable table with enhanced functionality. Our cleaning process integrates links to OMIM, expanded HPO terms, and standardises gene names to HUGO symbols. Most of the steps are simple, subjective decisions. For instance, we:</p><ul><li>Measure the distribution of data across major categories and subcategories to ensure even representation for robust classification (see Figure <code class="language-plaintext highlighter-rouge">plot_patch2.pdf</code>).<li>Remove extraneous whitespace and ambiguous characters to improve clarity.<li>Replace Greek letter like “alpha” with their Latin equivalent “a” so that users can search for IFNa.<li>Merge multiple HPO columns into a single “HPO combined” field and expand these into individual HPO terms with corresponding definitions.<li>Standardise gene names to single HUGO symbols (e.g. converting “CD40 (TNFRSF5)” to “CD40”) and split entries with multiple genes into separate rows.<li>Streamline inheritance classifications for consistency (e.g. AD, AR, XL).<li>Recategorise free-text descriptions of cell and immunoglobulin counts into concise, uniform labels (e.g. normal, low, borderline, defective), with before-and-after label distributions illustrated visualised to interpret their new representation <code class="language-plaintext highlighter-rouge">plot_patch1.pdf</code> and <code class="language-plaintext highlighter-rouge">plot_patch3.pdf</code>.</ul><p>The cleaning process aims produce a final IEI table is easy to navigate, supports advanced queries, and reliably links to external resources and that is analysis-ready for statistics and ML/AI. We retains the original IUIS IEI data columns so that they can always be traced back for reuse on the future IUIS IEI releases. We offer the final results as a TSV format download, that preserves the original data, avoiding issues like <a href="https://bmcbioinformatics.biomedcentral.com/articles/10.1186/1471-2105-5-80">Excel automatically converting gene names into dates</a>.</p><h2 id="knowledge-base"> <a href="#knowledge-base" class="anchor-heading" aria-labelledby="knowledge-base"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Knowledge base</h2><p>For details on the preparation of the knowledge base, see: Quantifying the Genetics of Disease Inheritance in Primary Immunodeficiency.</p><p>Our cleaning process begins by importing raw genomic data from gnomAD and ClinVar for the entire human genome. Using a HPC cluster, we read compressed files in chunks for each chromosome (1–22, X, Y, and M), standardise the headers, and select key data such as gene name, allele frequencies, allele counts, ClinVar classifications, and transcript annotations. We deal with numerous data cleaning requirements such as missing values in allele frequencies or ClinVar classifications, or selecting which gene transcript allele to retained. Next, we merge these cleaned chunks into a complete dataset and integrate gene panel data from PanelAppRex, which provides inheritance models for every gene. This integration allows us to calculate variant occurrence probabilities, expected case counts, and the probability of observing at least one case in a given population size; crucial metrics for downstream analysis. A subtle but essential step is the assignment of a minimal synthetic risk to variants with zero observed frequency, ensuring every gene has a non-zero risk estimate. The entire process is repeated for every disease-gene panel to generate disease-variant probabilities across all scenarios, with the full pipeline executing in under one day on our HPC system.</p></main></div></div><div class="search-overlay"></div></div><script src="https://cdn.jsdelivr.net/npm/mermaid@9.1.6/dist/mermaid.min.js"></script> <script> var config = {} ; mermaid.initialize(config); window.mermaid.init(undefined, document.querySelectorAll('.language-mermaid')); </script>
